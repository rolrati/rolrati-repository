<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="ISO-8859-1" />
	<title>Login</title>
</h:head>

<h:body>
	<h:form>
		<h:outputStylesheet library="css" name="login.css" />
		<h1></h1>
	</h:form>
	<form action="#{request.contextPath}/login" method="post">

		<h:panelGroup layout="block" class="error"
			rendered="#{param['error'] == 1}">Wrong password, or doesn't exist this user!</h:panelGroup>

		<p:panelGrid columns="1" styleClass="mainPanelGrid">
			<p:panelGrid columns="2">
				<p:outputLabel value="Username" />
				<input type="text" name="username" />
				<p:outputLabel value="Password" />
				<input type="password" name="password" />
			</p:panelGrid>
			<p:panelGrid columns="" styleClass="buttonPanelGrid">
				<button type="submit" name="login" class="login">Sign in</button>
			</p:panelGrid>
			<p:outputLabel value="or" style="" />
			<p:commandLink value="Register" style="color:blue"
				onclick="PF('dialog').show();" />

			<h:graphicImage library="img" name="fa1.jpg" styleClass="imgTree" />
		</p:panelGrid>
	</form>

	<h:form>
		<p:dialog id="dialog" header="Registration" position="center"
			widgetVar="dialog" modal="true" resizable="false" height="300"
			width="328">
			<p:panelGrid columns="2" styleClass="registerPanelGrid">
				<h:outputText value="Username" />
				<p:inputText required="true"
					value="#{registrationController.username}" />
				<h:outputText value="Password" />
				<p:password required="true"
					value="#{registrationController.password}" />
				<h:outputText value="Password confirmation" />
				<p:password required="true"
					value="#{registrationController.confPassword}" />
			</p:panelGrid>
			<p:commandButton styleClass="rButton" value="Submit"
				onsuccess="PF('dialog').hide();"
				actionListener="#{registrationController.doRegistration}" />
		</p:dialog>
	</h:form>
	
</h:body>
</html>